"use strict";var Agenda=React.createClass({displayName:"Agenda",getInitialState:function getInitialState(){return {displayState:"agenda",displaySessionTime:null,displaySessionSeq:null,displayAgenda:[],displayDay:0,displayMode:"normal",showHall:0,showType:0};},componentWillMount:function componentWillMount(){this.setState({displayAgenda:agendaData[this.state.displayDay]});},componentDidMount:function componentDidMount(){this.displayCurrentDay();},componentDidUpdate:function componentDidUpdate(prevProps,prevState){this.displayCurrentDay();},changeDisplayMode:function changeDisplayMode(toMode,toHall){this.setState({displayMode:toMode,showHall:toHall});},changeShowType:function changeShowType(toType){this.setState({showType:toType});},changeDisplayDay:function changeDisplayDay(toDay){this.setState({displayDay:toDay,displayAgenda:agendaData[toDay]});},displayCurrentDay:function displayCurrentDay(){$(".agenda-switch-day li").removeClass("indicate");$($(".agenda-switch-day li")[this.state.displayDay]).addClass("indicate");},viewSessionDetail:function viewSessionDetail(hasDetail,sessionTime,sessionSeq){if(hasDetail){var viewSessionSeq=sessionSeq;if(this.state.displayAgenda[sessionSeq] == null){viewSessionSeq = 0;}document.getElementById("agenda_table").scrollTop = 0;this.setState({displayState:"session",displaySessionTime:sessionTime,displaySessionSeq:viewSessionSeq});}},goBackToAgendaTable:function goBackToAgendaTable(){document.getElementById("agenda_table").scrollTop = 0;this.setState({displayState:"agenda",displaySessionTime:null,displaySessionSeq:null});},render:function render(){var agendaTable=[];var isSuchType=false;var onClickChangeDisplayModeToNormal=this.changeDisplayMode;if(this.state.displayMode == "normal"){this.state.displayAgenda.map((function(item1,i1){if(item1.length == 1){agendaTable.push(React.createElement("tr",{key:i1,className:"track-single"},React.createElement(SessionTime,{viewClass:viewClass,time:item1[0].time}),React.createElement(Session,{colspan:"4",viewSessionDetail:this.viewSessionDetail,sessionTime:i1,sessionSeq:null,hasDetail:item1[0].hasDetail,isLunch:item1[0].isLunch,session:item1[0].session,speaker:item1[0].speaker,time:item1[0].time})));}else if(item1.length == 5){var rowTd=[];var viewClass="";item1.map((function(item2,i2){isSuchType = false;if(this.state.showType != 0){for(var x=0,y=item2.type.length;x < y;x++) {if(item2.type[x] == this.state.showType){if(!isSuchType){isSuchType = true;};}}}isSuchType || this.state.showType == 0?viewClass = "":viewClass = "not-this-type";if(i2 == 0){rowTd.push(React.createElement(SessionTime,{key:i2,viewClass:viewClass,time:item2.time}));}else {rowTd.push(React.createElement(Session,{key:i2,viewSessionDetail:this.viewSessionDetail,sessionTime:i1,sessionSeq:i2,hasDetail:item2.hasDetail,colspan:"0",session:item2.session,speaker:item2.speaker,time:item2.time}));}}).bind(this));agendaTable.push(React.createElement("tr",{key:i1,className:"track-5"},rowTd));}}).bind(this));}else if(this.state.displayMode == "byHall"){this.state.displayAgenda.map((function(item,i){if(item.length == 1){agendaTable.push(React.createElement("tr",{key:i},React.createElement("td",null,React.createElement("ul",null,React.createElement("li",null,item[0].session),React.createElement("li",null,item[0].speaker)))));}else {agendaTable.push(React.createElement("tr",{key:i},React.createElement("td",null,React.createElement("ul",null,React.createElement("li",null,item[this.state.showHall].session),React.createElement("li",null,item[this.state.showHall].speaker)))));}}).bind(this));}if(this.state.displayState == "agenda"){return React.createElement("div",null,React.createElement("ul",{className:"agenda-switch-day"},React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayDay.bind(this,0),href:"javascript:void(0)"},"Day 1 (7/22)")),React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayDay.bind(this,1),href:"javascript:void(0)"},"Day 2 (7/23)"))),React.createElement("ul",{className:"agenda-filter-options"},React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayMode.bind(this,"normal",0),href:"javascript:void(0)"},"All")),React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayMode.bind(this,"byHall",0),href:"javascript:void(0)"},"R0")),React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayMode.bind(this,"byHall",1),href:"javascript:void(0)"},"R1")),React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayMode.bind(this,"byHall",2),href:"javascript:void(0)"},"R2")),React.createElement("li",null,React.createElement("a",{onClick:this.changeDisplayMode.bind(this,"byHall",3),href:"javascript:void(0)"},"R4"))),React.createElement("table",{className:"agenda-table"},React.createElement("tbody",null,agendaTable)));}else if(this.state.displayState == "session"){var conferenceHall=[];var speakerPicture=[];switch(this.state.displaySessionSeq){case 0:conferenceHall = [React.createElement("span",{key:"0",className:"hall-r0"},"R0"),React.createElement("span",{key:"1",className:"hall-r1"},"R1"),React.createElement("span",{key:"2",className:"hall-r2"},"R2"),React.createElement("span",{key:"3",className:"hall-r4"},"R4")];break;case 1:conferenceHall = [React.createElement("span",{key:"0",className:"hall-r0"},"R0")];break;case 2:conferenceHall = [React.createElement("span",{key:"0",className:"hall-r1"},"R1")];break;case 3:conferenceHall = [React.createElement("span",{key:"0",className:"hall-r2"},"R2")];break;case 4:conferenceHall = [React.createElement("span",{key:"0",className:"hall-r4"},"R4")];break;}if(this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].speakerPictureURL != ""){speakerPicture = [];}if(this.state.displaySessionTime == 2 && this.state.displaySessionSeq == 0){console.log("安安");console.log("i_am_orange");}return React.createElement("div",{className:"agenda-session-info"},React.createElement("div",{className:"goback"},React.createElement("a",{className:"goback-button",onClick:this.goBackToAgendaTable,href:"javascript:void(0)"},"返回 Back")),React.createElement("h5",{className:"session-title"},this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].session),React.createElement("div",{className:"session-time"},this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].time),React.createElement("div",{className:"session-hall"},conferenceHall),React.createElement("div",{className:"session-spkr"},React.createElement("div",{className:"speaker-pict"},this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].speakerPictureURL.map(function(url,index){return React.createElement("img",{key:index,src:url,width:"100"});})),React.createElement("div",{className:"speaker-name"},this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].speaker)),React.createElement("h6",{className:"h6-title"},"講師簡介 Speaker Introduction"),React.createElement("div",null,this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].speakerIntroduction.map(function(line,index){return React.createElement("p",{key:index},line);})),React.createElement("h6",{className:"h6-title"},"議程摘要 Abstract"),React.createElement("div",null,this.state.displayAgenda[this.state.displaySessionTime][this.state.displaySessionSeq].sessionAbstract.map(function(line,index){return React.createElement("p",{key:index},line);})));}}});var SessionTime=React.createClass({displayName:"SessionTime",render:function render(){return React.createElement("td",{className:this.props.viewClass},React.createElement("span",null,this.props.time));}});var Session=React.createClass({displayName:"Session",render:function render(){var classList="";if(this.props.hasDetail){classList += "clickable";}if(this.props.isLunch){classList += " lunch";}return React.createElement("td",{className:classList,colSpan:this.props.colspan,onClick:this.props.viewSessionDetail.bind(null,this.props.hasDetail,this.props.sessionTime,this.props.sessionSeq)},React.createElement("ul",null,React.createElement("li",{className:"title"},this.props.session),React.createElement("li",{className:"speaker"},this.props.speaker)));}});ReactDOM.render(React.createElement(Agenda,null),agenda_table);